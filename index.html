<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Compras Interativa</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="titulo">Lista de Compras</span> <img src="https://img.icons8.com/ios-filled/50/000000/shopping-cart.png" alt="Carrinho" class="carrinho"></h1>
            <button id="theme-toggle" aria-label="Alternar tema claro/escuro">üåô</button>
        </header>
        <div class="formulario">
            <input type="text" id="itemNome" list="suggestions" placeholder="Nome do item" aria-label="Nome do item">
            <datalist id="suggestions"></datalist>
            <input type="number" id="itemQtd" placeholder="Quantidade" min="0" aria-label="Quantidade">
            <input type="number" id="itemPeso" placeholder="Peso (kg)" step="0.1" min="0" aria-label="Peso em kg">
            <input type="number" id="itemValor" placeholder="Valor por kg (R$)" step="0.01" min="0" aria-label="Valor por kg">
            <select id="itemCategoria" aria-label="Categoria do item">
                <option value="Alimentos b√°sicos">Alimentos b√°sicos</option>
                <option value="P√£es e massas">P√£es e massas</option>
                <option value="Prote√≠nas">Prote√≠nas</option>
                <option value="Ovos e latic√≠nios">Ovos e latic√≠nios</option>
                <option value="Legumes e verduras">Legumes e verduras</option>
                <option value="Frutas">Frutas</option>
                <option value="Congelados e processados">Congelados e processados</option>
                <option value="Temperos e condimentos">Temperos e condimentos</option>
                <option value="Bebidas">Bebidas</option>
                <option value="Doces e snacks">Doces e snacks</option>
                <option value="Produtos de padaria">Produtos de padaria</option>
                <option value="Higiene pessoal">Higiene pessoal</option>
                <option value="Limpeza dom√©stica">Limpeza dom√©stica</option>
                <option value="Outros">Outros</option>
            </select>
            <button id="btnAcao" onclick="adicionarOuEditarItem()">Adicionar</button>
        </div>
        <p>Total de itens: <span id="totalItens">0</span></p>
        <div class="filtros">
            <label for="filterCategoria">Filtrar por categoria:</label>
            <select id="filterCategoria" onchange="filtrarLista()">
                <option value="all">Todas</option>
                <option value="Alimentos b√°sicos">Alimentos b√°sicos</option>
                <option value="P√£es e massas">P√£es e massas</option>
                <option value="Prote√≠nas">Prote√≠nas</option>
                <option value="Ovos e latic√≠nios">Ovos e latic√≠nios</option>
                <option value="Legumes e verduras">Legumes e verduras</option>
                <option value="Frutas">Frutas</option>
                <option value="Congelados e processados">Congelados e processados</option>
                <option value="Temperos e condimentos">Temperos e condimentos</option>
                <option value="Bebidas">Bebidas</option>
                <option value="Doces e snacks">Doces e snacks</option>
                <option value="Produtos de padaria">Produtos de padaria</option>
                <option value="Higiene pessoal">Higiene pessoal</option>
                <option value="Limpeza dom√©stica">Limpeza dom√©stica</option>
                <option value="Outros">Outros</option>
            </select>
        </div>
        <div class="tabela-container">
            <table id="tabelaCompras">
                <thead>
                    <tr>
                        <th>Comprado</th>
                        <th>Item</th>
                        <th>Quantidade</th>
                        <th>Peso (kg)</th>
                        <th>Valor/kg (R$)</th>
                        <th>Total (R$)</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="listaItens"></tbody>
                <tfoot>
                    <tr>
                        <td colspan="5">Total Geral:</td>
                        <td id="totalGeral">0,00</td>
                        <td></td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="botoes">
            <button onclick="salvarLista()" aria-label="Salvar lista">üíæ</button>
            <button onclick="carregarLista()" aria-label="Carregar lista">üì§</button>
            <button onclick="limparLista()" aria-label="Limpar lista">üßπ</button>
            <div class="menu-container">
                <button id="menu-btn" aria-label="Abrir menu">‚ò∞</button>
                <div id="menu-dropdown" class="menu-dropdown">
                    <button onclick="mostrarHistorico()">Hist√≥rico de Listas</button>
                    <button onclick="exportarPDF()">Exportar PDF</button>
                </div>
            </div>
        </div>
    </div>
    <div id="toast" class="toast"></div>
    <div id="historico-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Hist√≥rico de Listas</h2>
            <div id="historico-lista"></div>
            <button onclick="fecharHistorico()">Fechar</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>